var we=Object.defineProperty;var Se=(i,l,c)=>l in i?we(i,l,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[l]=c;var V=(i,l,c)=>(Se(i,typeof l!="symbol"?l+"":l,c),c);import{S as ke,L as xe,Z as Ce,P as Te,d as F,a as ze,b as He,r as q,o as We,c as Ie,w as Ee,e as oe,f as b,g as le,h as se,n as Le,i as k,j as G,k as f,F as E,p as Ye,l as je,m as ae,u as Oe,t as Xe,q as qe}from"./vendor.97d52d1c.js";const Ne=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))d(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const v of u.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&d(v)}).observe(document,{childList:!0,subtree:!0});function c(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function d(s){if(s.ep)return;s.ep=!0;const u=c(s);fetch(s.href,u)}};Ne();var $e="/image-swiper/assets/swiper.a33b08cf.png";var Be=(i,l)=>{for(const[c,d]of l)i[c]=d;return i};ke.use([xe,Ce,Te]);const Y=class{constructor(l){V(this,"key");this.key=l;const c=Y.queue[l];if(c)for(let d of c)clearTimeout(d);Y.queue[l]=[]}timeout(l,c,...d){Y.queue[this.key].push(setTimeout(l,c,...d))}};let L=Y;V(L,"queue",{});const Me=F({name:"image-viewer",components:{Swiper:ze,SwiperSlide:He},props:{open:{type:Object,required:!0},historyUrl:{type:String,default:"?img"}},emits:{swipeStarted:i=>!0,swipeCancelled:i=>!0,swipeExit:i=>!0,swipeExited:()=>!0},setup(i,{emit:l}){const c={"--swiper-pagination-color":"#fff","--swiper-pagination-bullet-inactive-color":"#8E8E93","--swiper-pagination-bullet-inactive-opacity":".5"},d=q([]);let s,u=0;const v=e=>{e!==u&&(s[u].style.visibility="",s[e].style.visibility="hidden",u=e)},y=e=>{if(e.tagName==="IMG")return e;const t=e.getElementsByTagName("img");return t[t.length-1]},x=e=>e.wrapperEl.querySelectorAll("img.swiper-lazy")[e.activeIndex],H=(e,t)=>{if(!t)throw new Error("No `gallery` attribute found!");if(t.hasAttribute("gallery")){const a=[],o=y(e);let n=0;s=t.getElementsByTagName("img");for(let r=0;r<s.length;r++){let m=s[r];o===m&&(n=r);let h=m.getAttribute("src"),p=m.getAttribute("data-src")||"";if(!h)throw new Error("No `src` attribute found!");a.push({thumb:m,src:h,dataSrc:p})}return d.value=a,u=n,n}return H(e,t.parentElement)};let S=!1;const U=(e,t,a,o=1)=>{S=!0;const n=x(e),r=new L("animateShow");if(!n.naturalWidth&&!t[e.activeIndex].dataSrc){if(o>=10){n.style.transform="",e.el.style.backgroundColor="",e.el.style.zIndex="999",e.el.style.visibility="visible";return}r.timeout(()=>U(e,t,a,++o),10);return}const m=z=>z.naturalWidth&&e.el.clientWidth>z.naturalWidth&&e.el.clientHeight>z.naturalHeight,h=t[e.activeIndex].thumb,p=h.getBoundingClientRect(),w=h.naturalWidth/h.naturalHeight<e.el.clientWidth/e.el.clientHeight,I=m(n),M=w?n.naturalWidth?e.el.clientHeight/n.naturalHeight*n.naturalWidth:e.el.clientHeight/h.naturalHeight*h.naturalWidth:e.el.clientWidth,D=w?e.el.clientHeight:n.naturalHeight?e.el.clientWidth/n.naturalWidth*n.naturalHeight:e.el.clientWidth/h.naturalWidth*h.naturalHeight,X=p.width/(I?n.naturalWidth:M),A=p.height/(I?n.naturalHeight:D),ee=p.x+p.width/2-e.el.clientWidth/2,te=p.y+p.height/2-e.el.clientHeight/2;n.style.transform="translate("+ee+"px, "+te+"px) scale("+X+","+A+")",e.el.style.backgroundColor="rgba(0, 0, 0, 0)",e.el.style.zIndex="999",e.el.style.visibility="visible",e.pagination.el.classList.remove("swiper-pagination-hidden");const g=e.el.querySelector(".swiper-slide-active>img.animate-thumb");g.style.transform="translate("+ee+"px, "+te+"px) scale("+X+","+A+")",I?(g.style.width=n.naturalWidth+"px",g.style.height=n.naturalHeight+"px"):w?g.style.height="100%":g.style.width="100%",g.style.display="inline",g.style.transition="all .25s cubic-bezier(.4,0,.22,1)",n.onload=()=>{m(n)&&(g.style.width=n.naturalWidth+"px",g.style.height=n.naturalHeight+"px")},r.timeout(()=>g.style.transform="",100),r.timeout(()=>{n.style.transition="all .25s cubic-bezier(.4,0,.22,1)",e.el.style.transition="all .25s cubic-bezier(.4,0,.22,1)",n.style.transform="",e.el.style.backgroundColor="",h.style.visibility="hidden"},100),r.timeout(()=>{var ne;n.style.transition="",e.el.style.transition="";const z=()=>{g.style.display="",g.style.transition="",g.style.width="",g.style.height=""},fe=(ne=n.parentElement)==null?void 0:ne.querySelector(".swiper-lazy+.swiper-lazy-preloader");n.parentElement&&fe?new MutationObserver((ve,be)=>{for(let _e of ve){let ie=_e.removedNodes;for(let P=0;P<ie.length;P++)if(ie[P].classList.contains("swiper-lazy-preloader")){z(),be.disconnect();return}}}).observe(n.parentElement,{childList:!0}):z(),S=!1,a&&a()},350)},re=(e,t,a)=>{S=!0;const o=x(e),n=t[e.activeIndex].thumb,r=n.getBoundingClientRect(),m=o.naturalWidth/o.naturalHeight<e.el.clientWidth/e.el.clientHeight,h=o.naturalWidth&&e.el.clientWidth>o.naturalWidth&&e.el.clientHeight>o.naturalHeight,p=m?e.el.clientHeight/o.naturalHeight*o.naturalWidth:e.el.clientWidth,w=m?e.el.clientHeight:e.el.clientWidth/o.naturalWidth*o.naturalHeight,I=r.width/(h?o.naturalWidth:p),M=r.height/(h?o.naturalHeight:w),D=r.x+r.width/2-e.el.clientWidth/2,X=r.y+r.height/2-e.el.clientHeight/2;o.style.transition="all .25s cubic-bezier(.4,0,.22,1)",e.el.style.transition="all .25s cubic-bezier(.4,0,.22,1)",o.style.transform="translate("+D+"px, "+X+"px) scale("+I+","+M+")",e.el.style.backgroundColor="rgba(0, 0, 0, 0)",new L("animateHide").timeout(()=>{n.style.visibility="",o.style.transition="",e.el.style.transition="",e.el.style.zIndex="-999",e.el.style.visibility="hidden",S=!1,a()},250)},ce=e=>{const t=x(e);e.pagination.el.classList.remove("swiper-pagination-hidden"),t.style.transition="all .25s cubic-bezier(.4,0,.22,1)",e.el.style.transition="all .25s cubic-bezier(.4,0,.22,1)",t.style.transform="",e.el.style.backgroundColor="",setTimeout(()=>{t.style.transition="",e.el.style.transition=""},250)};let N=!1,C=-1,T=null,R=0,Z=0,$=0,j=-1,O=-1;const ue=(...e)=>{};let _;const de=e=>{_=e},he=(e,t)=>{for(let a=0;a<e.length;a++)if(e[a].identifier===t)return e[a];throw new Error("No touch!")},K=e=>{const t=e;let a,o;if(t.changedTouches){const n=he(t.changedTouches,C);a=n.pageX,o=n.pageY}else a=t.pageX,o=t.pageY;return{pageX:a,pageY:o}},B=e=>{const t=e;return t.changedTouches?t.changedTouches[0].identifier:t.pointerId||1e3},ge=(e,t)=>{if(N=!1,T!==null||C>-1||e.zoom.scale!==1||S)return;C=B(t);const{pageX:a,pageY:o}=K(t),n=t,r=n.changedTouches?n.changedTouches[0].target:t.target;T=y(r),R=a,Z=o,$=o},pe=(e,t)=>{if(N=!0,T===null||B(t)!==C||e.zoom.scale!==1||S)return;t.preventDefault(),l("swipeStarted",t);const{pageX:a,pageY:o}=K(t),n=T,r=e.el;n.style.transition="none",r.style.transition="none";const m=a-R,h=o-Z;j=h,O=o-$,$=o;const p=Math.max(1-Math.abs(h/e.el.clientHeight),.5).toString();r.style.backgroundColor="rgba(0, 0, 0, "+p+")",n.style.transform="translate("+m+"px, "+h+"px) scale("+p+")";const w=e.pagination.el.classList;w.contains("swiper-pagination-hidden")!==(O>0==j>0)&&O!==0&&w.toggle("swiper-pagination-hidden"),v(e.activeIndex)},me=(e,t)=>{T===null||B(t)!==C||(C=-1,T=null,!(!N||e.zoom.scale!==1||S)&&(O>0!=j>0||Math.abs(j)<80?(ce(e),l("swipeCancelled",t)):(l("swipeExit",t),W.exit())))},ye=()=>{d.value=[],i.open.el=null,s={},document.body.style.overflow="",ue("swipeExited",_.activeIndex),l("swipeExited")},W={opened:!1,onPopState(e){this.opened&&(v(_.activeIndex),re(_,d.value,ye),this.opened=!1)},onImageOpened(){history.pushState("image-viewer",document.title,i.historyUrl),this.opened=!0},exit(){history.back()}},J=e=>W.onPopState.call(W,e);We(()=>{window.addEventListener("popstate",J)}),Ie(()=>{window.removeEventListener("popstate",J)}),Ee(()=>i.open.el,e=>{if(e){const t=H(e,e.parentElement);_.updateSlides(),_.slideTo(t,0,!1),document.body.style.overflow="hidden";const a=new L("open");a.timeout(()=>U(_,d.value),0),a.timeout(()=>_.lazy.load(),1),W.onImageOpened()}});const Q={timeout:-1,clickCount:0,enqueue(e){if(this.clickCount++,this.clickCount>=2){this.onDoubleClick();return}this.timeout=setTimeout(()=>{e(),this.reset()},220)},reset(){this.timeout>-1&&clearTimeout(this.timeout),this.timeout=-1,this.clickCount=0},onDoubleClick(){this.reset()}};return{style:c,photos:d,onClick:(e,t)=>{e.zoom.scale!==1?e.pagination.el.classList.toggle("swiper-pagination-hidden"):Q.enqueue(W.exit)},onDoubleClick:()=>{Q.onDoubleClick()},onTouchStart:ge,onTouchMoveOpposite:pe,onTouchEnd:me,onSwiper:de}}}),De=i=>(Ye("data-v-d37a74da"),i=i(),je(),i),Ae=["src"],Pe={class:"swiper-zoom-container"},Ve=["data-src"],Fe=De(()=>f("div",{class:"swiper-lazy-preloader swiper-lazy-preloader-white"},null,-1));function Ge(i,l,c,d,s,u){const v=oe("swiper-slide"),y=oe("swiper");return b(),le(y,{style:Le(i.style),lazy:!0,zoom:!0,spaceBetween:30,pagination:{clickable:!0},onSwiper:i.onSwiper,onClick:i.onClick,onDoubleClick:i.onDoubleClick,onTouchStart:i.onTouchStart,onTouchEnd:i.onTouchEnd,onTouchMoveOpposite:i.onTouchMoveOpposite},{default:se(()=>[(b(!0),k(E,null,G(i.photos,(x,H)=>(b(),le(v,{key:H},{default:se(()=>[f("img",{src:i.photos[H].src,class:"animate-thumb"},null,8,Ae),f("div",Pe,[f("img",{"data-src":x.dataSrc||x.src,class:"swiper-lazy"},null,8,Ve),Fe])]),_:2},1024))),128))]),_:1},8,["style","onSwiper","onClick","onDoubleClick","onTouchStart","onTouchEnd","onTouchMoveOpposite"])}var Ue=Be(Me,[["render",Ge],["__scopeId","data-v-d37a74da"]]);const Re=f("h3",null,"Group 1",-1),Ze={gallery:""},Ke=["src"],Je=f("h3",null,"Group 2",-1),Qe={gallery:""},et=["src"],tt=F({props:{msg:null},setup(i){const l=q(["https://swiperjs.com/demos/images/nature-1.jpg","https://swiperjs.com/demos/images/nature-2.jpg","https://swiperjs.com/demos/images/nature-3.jpg"]),c=q(["https://swiperjs.com/demos/images/nature-4.jpg","https://swiperjs.com/demos/images/nature-5.jpg","https://swiperjs.com/demos/images/nature-6.jpg"]),d=q({el:null}),s=u=>d.value.el=u.target;return(u,v)=>(b(),k(E,null,[ae(Oe(Ue),{open:d.value},null,8,["open"]),f("h1",null,Xe(i.msg),1),Re,f("div",Ze,[(b(!0),k(E,null,G(l.value,y=>(b(),k("img",{key:y,src:y,width:"200",onClick:s},null,8,Ke))),128))]),Je,f("div",Qe,[(b(!0),k(E,null,G(c.value,y=>(b(),k("img",{key:y,src:y,width:"200",onClick:s},null,8,et))),128))])],64))}});const nt=f("img",{alt:"Image Swiper",src:$e},null,-1),it=F({setup(i){return(l,c)=>(b(),k(E,null,[nt,ae(tt,{msg:"Image Swiper"})],64))}});qe(it).mount("#app");
